apply plugin: 'integrate'

sourceSets {
    main {
        resources {
            srcDirs = ['resources']
        }
    }
}

configurations {
  integrate
}

dependencies {
    integrate group : "org.intermine", name: "ant-tasks", version: antVersion
    integrate group : "org.intermine", name: "intermine-integrate", version: imVersion
}

/*
task retrieve() {
    group "${taskGroup}"
    description "Integrates data source"
    doLast {
      ant.taskdef(name: 'integrateSource', classname: 'org.intermine.task.Integrate') {
        classpath {
          pathelement(path: configurations.integrate.asPath)
          //dirset(dir: 'build/')
        }
      }   
      ant.integrateSource(projectXml: "$rootDir/project.xml", source: "uniprot-malaria", action: "")
   }
}


task load() {
    group "${taskGroup}"
    description "Load items into production database"
    doLast {
      ant.taskdef(name: 'objectStoreDataLoader', classname: 'org.intermine.dataloader.ObjectStoreDataLoaderTask') {
        classpath {
          pathelement(path: configurations.integrate.asPath)
        }
      }   
      ant.objectStoreDataLoader(integrationWriter: "integration.production", source: "os.${common.os.prefix}-translated", sourceName: "", sourceType: "", ignoreDuplicates: "", allSources: "")
   }
}
*/
